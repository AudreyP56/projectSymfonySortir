{% extends 'base.html.twig' %}

{% block title %}Hello CreerSortieController!{% endblock %}

{% block body %}
    {% include('navbar.html.twig') %}

    <div class="container card mt-3">

        <h2 class="card-header">Afficher une sortie</h2>
        <div class="card-body row-test">
            <div class="col">
                <div class="row mb-3">
                    <h5 class="form-label">Nom de la sortie : </h5>
                    <p class="col">{{ sortie.nom }}</p>
                </div>

                <div class="row mb-3">
                    <h5 class="form-label">Date et heure de la sortie : </h5>
                    <p class="col">{{ sortie.dateHeureSortie | date ('d/m/Y H:i:s')}}</p>
                </div>

                <div class="row mb-3">
                    <h5 class="form-label">Date limite d'inscription : </h5>
                    <p class="col">{{ sortie.dateLimite | date ('d/m/Y')}}</p>
                </div>
                <div class="row mb-3">
                    <h5 class="form-label">Nombre de places : </h5>
                    <p class="col">{{ sortie.nbPlace }}</p>
                </div>
                <div class="row mb-3">
                    <h5 class="form-label">Dur√©e : </h5>
                    <p class="col">{{ sortie.duree }} minutes</p>
                </div>
                <div class="row mb-3">
                    <h5 class="form-label">Description : </h5>
                    <p class="col">{{ sortie.description }}</p>
                </div>
            </div>
            <div class="col">
                <div class="row mb-3">
                    <h5 class="form-label">Site Organisateur : </h5>
                    <p class="col">{{ site.nom }}</p>
                </div>
                <div class="row mb-3">
                    <h5 class="form-label">Ville : </h5>
                    <p class="col">{{  lieu.getVille().nom }}</p>

                </div>
                <div class="row mb-3">
                    <h5 class="form-label">Lieu : </h5>
                    <p class="col">{{ lieu.nom }}</p>
                </div>
                <div class="row mb-3">
                    <h5 class="form-label">Rue : </h5>
                    <p class="col">{{ lieu.rue }}</p>
                </div>
                <div class="row mb-3">
                    <h5 class="form-label">CodePostal : </h5>
                    <p class="col">{{ lieu.getVille().getCodePostal() }}</p>
                </div>
                <div class="row mb-3">
                    <h5 class="form-label">Latitude : </h5>
                    <p class="col">{{ lieu.latitude }}</p>
                </div>
                <div class="row mb-3">
                    <h5 class="form-label">Longitude : </h5>
                    <p class="col">{{ lieu.longitude }}</p>
                </div>
            </div>
            {% if  sortie.getLieuId().getLongitude() != null %}
                <div class="col d-flex justify-content-center">
                    <iframe src="https://maps.google.com/maps?q={{ sortie.getLieuId().getLongitude() }} {{ sortie.getLieuId().getLatitude() }}&hl=es;z=5&amp;output=embed" width="100%" height="200" frameborder="0" style="border:0"></iframe>
                </div>
            {% endif %}
        </div>
        <div class="card-footer">
            <h3 class="card-titre">Liste des participants</h3>

            <table class="table">
                <thead>
                <tr>
                    <th scope="col">#</th>
                    <th scope="col">Pseudo</th>
                    <th scope="col">Nom</th>
                </tr>
                </thead>
                <tbody>
                {% for participant in sortie.participants %}
                    <tr>
                        <th scope="row">{{loop.index }}</th>
                        <td>{{ participant.pseudo }}</td>
                        <td>{{ participant.nom }} {{ participant.prenom }}</td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
{% endblock %}

